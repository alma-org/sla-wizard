http:
  services:
    main-service:
      loadBalancer:
        servers:
          - url: http://api:9999
  routers:
    basic_pets_ak0:
      rule: PathPrefix(`/pets`) && Query(`apikey=7B5zIqmRGXmrJTFmKa99-b`)
      service: main-service
      middlewares:
        - basic_addApikeyHeader_ak0
        - basic_pets
    basic_pets_ak1:
      rule: PathPrefix(`/pets`) && Query(`apikey=QzVV6y1EmQFbbxOfRCwy-b`)
      service: main-service
      middlewares:
        - basic_addApikeyHeader_ak1
        - basic_pets
    basic_pets_ak2:
      rule: PathPrefix(`/pets`) && Query(`apikey=mGcjH8Fv6U9y3BVF9H3Y-b`)
      service: main-service
      middlewares:
        - basic_addApikeyHeader_ak2
        - basic_pets
    basic_petsid_ak0:
      rule: PathPrefix(`/pets/{id}`) && Query(`apikey=7B5zIqmRGXmrJTFmKa99-b`)
      service: main-service
      middlewares:
        - basic_addApikeyHeader_ak0
        - basic_petsid
    basic_petsid_ak1:
      rule: PathPrefix(`/pets/{id}`) && Query(`apikey=QzVV6y1EmQFbbxOfRCwy-b`)
      service: main-service
      middlewares:
        - basic_addApikeyHeader_ak1
        - basic_petsid
    basic_petsid_ak2:
      rule: PathPrefix(`/pets/{id}`) && Query(`apikey=mGcjH8Fv6U9y3BVF9H3Y-b`)
      service: main-service
      middlewares:
        - basic_addApikeyHeader_ak2
        - basic_petsid
    pro_pets_ak0:
      rule: PathPrefix(`/pets`) && Query(`apikey=qmFm7B5zIKa99vcitRGX-p`)
      service: main-service
      middlewares:
        - pro_addApikeyHeader_ak0
        - pro_pets
    pro_pets_ak1:
      rule: PathPrefix(`/pets`) && Query(`apikey=RCwyJs35QzVV6y1EmQFb-p`)
      service: main-service
      middlewares:
        - pro_addApikeyHeader_ak1
        - pro_pets
    pro_pets_ak2:
      rule: PathPrefix(`/pets`) && Query(`apikey=H8Fv6UmGcj9y3Bb9TVF9-p`)
      service: main-service
      middlewares:
        - pro_addApikeyHeader_ak2
        - pro_pets
    pro_petsid_ak0:
      rule: PathPrefix(`/pets/{id}`) && Query(`apikey=qmFm7B5zIKa99vcitRGX-p`)
      service: main-service
      middlewares:
        - pro_addApikeyHeader_ak0
        - pro_petsid
    pro_petsid_ak1:
      rule: PathPrefix(`/pets/{id}`) && Query(`apikey=RCwyJs35QzVV6y1EmQFb-p`)
      service: main-service
      middlewares:
        - pro_addApikeyHeader_ak1
        - pro_petsid
    pro_petsid_ak2:
      rule: PathPrefix(`/pets/{id}`) && Query(`apikey=H8Fv6UmGcj9y3Bb9TVF9-p`)
      service: main-service
      middlewares:
        - pro_addApikeyHeader_ak2
        - pro_petsid
    open-endpoint_get:
      rule: >-
        PathPrefix(`/open-endpoint`) && Method(`GET`) &&
        Query(`apikey={7B5zIqmRGXmrJTFmKa99-b|QzVV6y1EmQFbbxOfRCwy-b|mGcjH8Fv6U9y3BVF9H3Y-b|qmFm7B5zIKa99vcitRGX-p|RCwyJs35QzVV6y1EmQFb-p|H8Fv6UmGcj9y3Bb9TVF9-p}`)
      service: main-service
  middlewares:
    basic_addApikeyHeader_ak0:
      headers:
        customRequestHeaders:
          apikey: 7B5zIqmRGXmrJTFmKa99-b
    basic_addApikeyHeader_ak1:
      headers:
        customRequestHeaders:
          apikey: QzVV6y1EmQFbbxOfRCwy-b
    basic_addApikeyHeader_ak2:
      headers:
        customRequestHeaders:
          apikey: mGcjH8Fv6U9y3BVF9H3Y-b
    basic_pets:
      rateLimit:
        sourceCriterion:
          requestHeaderName: apikey
        average: 2
        period: 1m
        burst: 2
    basic_petsid:
      rateLimit:
        sourceCriterion:
          requestHeaderName: apikey
        average: 5
        period: 1s
        burst: 5
    pro_addApikeyHeader_ak0:
      headers:
        customRequestHeaders:
          apikey: qmFm7B5zIKa99vcitRGX-p
    pro_addApikeyHeader_ak1:
      headers:
        customRequestHeaders:
          apikey: RCwyJs35QzVV6y1EmQFb-p
    pro_addApikeyHeader_ak2:
      headers:
        customRequestHeaders:
          apikey: H8Fv6UmGcj9y3Bb9TVF9-p
    pro_pets:
      rateLimit:
        sourceCriterion:
          requestHeaderName: apikey
        average: 20
        period: 1m
        burst: 20
    pro_petsid:
      rateLimit:
        sourceCriterion:
          requestHeaderName: apikey
        average: 50
        period: 1s
        burst: 50
